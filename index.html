<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zigeshgalaria | Veritatem Quaerere</title>
    <meta name="description" content="Veritatem Quaerere. 61 6E 79 77 68 65 72 65." />
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              background: '#ffffff', 
              surface: '#f4f4f5', 
              primary: '#18181b',
              secondary: '#52525b',
              accent: '#000000', 
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              mono: ['JetBrains Mono', 'monospace'],
            },
            animation: {
              'fade-in': 'fadeIn 1s ease-out',
              'slide-up': 'slideUp 0.3s ease-out',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideUp: {
                '0%': { transform: 'translateY(20px)', opacity: '0' },
                '100%': { transform: 'translateY(0)', opacity: '1' },
              }
            },
          },
        },
      };
    </script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- React & Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google GenAI SDK via ImportMap -->
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.run/@google/genai",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0"
  }
}
</script>

    <style>
      body {
        font-family: 'Inter', sans-serif;
        background-color: #ffffff;
        color: #18181b;
      }
      ::-webkit-scrollbar {
        width: 0px;
        background: transparent;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <!-- Main Application Script -->
    <script type="text/babel" data-type="module">
      import { GoogleGenAI } from "@google/genai";

      // --- Mock Process Env for Client Side ---
      // NOTE: In a real build environment, this comes from .env files.
      // For this static demo, Chat will likely not work without a valid key inserted below.
      window.process = {
        env: {
          API_KEY: '' // USER_ACTION: Insert API Key here if you want Chat to work locally
        }
      };

      // --- Constants ---
      const SITE_NAME = "@Zigeshgalaria";
      const ROLE = "Veritatem Quaerere";
      const LOCATION_HEX = "61 6E 79 77 68 65 72 65";
      const SYSTEM_INSTRUCTION = `
        You are Zigeshgalaria's AI Assistant.
        Tone: Mysterious, cryptic, philosophical, but helpful.
        Keywords: "Veritatem Quaerere" (Seeking Truth), "61 6E 79 77 68 65 72 65" (Anywhere).
      `;

      // --- Icons (Inline SVG Components to avoid dependency issues) ---
      const MapPin = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
      );
      const Sparkles = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
      );
      const MessageSquare = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
      );
      const X = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>
      );
      const Send = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
      );
      const Loader2 = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>
      );

      // --- Services ---
      let ai = null;
      let chatSession = null;

      const initializeChat = async () => {
        const apiKey = window.process?.env?.API_KEY;
        if (!apiKey) return false;
        
        try {
          ai = new GoogleGenAI({ apiKey });
          chatSession = ai.chats.create({
            model: 'gemini-2.5-flash',
            config: { systemInstruction: SYSTEM_INSTRUCTION },
          });
          return true;
        } catch (error) {
          console.error("Chat Init Error", error);
          return false;
        }
      };

      const sendMessageToGemini = async (message) => {
        if (!ai || !chatSession) {
          const success = await initializeChat();
          if (!success) return "Transmission failed. (Missing API Key)";
        }
        try {
          const response = await chatSession.sendMessage({ message });
          return response.text;
        } catch (error) {
          return "Signal interrupted.";
        }
      };

      // --- Components ---

      const Header = () => (
        <header className="fixed top-0 w-full z-50 bg-white/0 backdrop-blur-[1px]">
          <div className="max-w-5xl mx-auto px-8 md:px-12">
            <div className="flex justify-between items-center h-24">
              <div className="flex-shrink-0 flex items-center">
                <a href="#" className="text-2xl font-bold tracking-tight text-black hover:opacity-70 transition-opacity">
                  {SITE_NAME}
                </a>
              </div>
            </div>
          </div>
        </header>
      );

      const Hero = () => (
        <section id="home" className="min-h-screen flex flex-col justify-center px-8 md:px-12 pt-20">
          <div className="animate-fade-in space-y-8 max-w-3xl">
            <div className="text-4xl md:text-6xl font-black text-black tracking-tight">
              <span className="block mb-2 opacity-80 font-serif">
                ğ’£ ğ’‘ğ’ƒ² ğ’€€ğ’Š‘ğ’€€
              </span>
            </div>
            <h1 className="text-5xl md:text-7xl font-black tracking-tighter text-black uppercase">
              {SITE_NAME}
            </h1>
            <div className="flex items-center gap-4 text-xl md:text-2xl font-serif italic text-black/80">
              <span>ğ’‰†ğ’„€ğ’ˆ¾ ğ’†¥ğ’€€ (Veritatem Quaerere)</span>
            </div>
            <div className="w-24 h-1 bg-black my-8"></div>
            <div className="flex items-center gap-3 text-gray-600">
              <MapPin size={20} className="text-black" />
              <span className="font-mono text-lg md:text-xl tracking-wider uppercase">
                {LOCATION_HEX}
              </span>
            </div>
            <div className="text-xs font-mono text-gray-400 pl-8">
              // decoded: anywhere
            </div>
          </div>
        </section>
      );

      const About = () => (
        <section id="contact" className="pb-24 px-8 md:px-12">
          <div className="space-y-6 max-w-3xl">
            <div className="prose prose-lg max-w-none text-black/80 leading-relaxed">
              <p className="text-xl font-light">
                To understand the signal, one must first filter the noise.
              </p>
              <p className="pt-8">
                <a href="mailto:contact@zigeshgalaria.com" className="font-bold text-black border-b-2 border-black hover:bg-black hover:text-white transition-colors">
                  Send Transmission
                </a>
              </p>
            </div>
          </div>
        </section>
      );

      const Footer = () => (
        <footer className="py-8 bg-transparent relative z-10">
          <div className="max-w-5xl mx-auto px-8 md:px-12 text-left">
            <p className="text-xs font-mono text-gray-500">
              Â© 2025 <span className="font-bold text-black">Zigeshgalaria</span>. Veritatem Quaerere.
            </p>
          </div>
        </footer>
      );

      const AIChatWidget = () => {
        const [isOpen, setIsOpen] = React.useState(false);
        const [input, setInput] = React.useState('');
        const [isTyping, setIsTyping] = React.useState(false);
        const [messages, setMessages] = React.useState([
          { id: 'welcome', text: "Identity: Zigeshgalaria AI. Status: Online.", sender: 'bot' }
        ]);
        const messagesEndRef = React.useRef(null);

        React.useEffect(() => {
          if (isOpen) messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
        }, [messages, isOpen]);

        const handleSend = async () => {
          if (!input.trim() || isTyping) return;
          const userText = input;
          setMessages(prev => [...prev, { id: Date.now().toString(), text: userText, sender: 'user' }]);
          setInput('');
          setIsTyping(true);

          const response = await sendMessageToGemini(userText);
          
          setMessages(prev => [...prev, { id: (Date.now()+1).toString(), text: response, sender: 'bot' }]);
          setIsTyping(false);
        };

        return (
          <div className="fixed bottom-6 right-6 z-50 flex flex-col items-end">
            {isOpen && (
              <div className="mb-4 w-[90vw] sm:w-96 h-[500px] bg-surface border border-white/10 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-slide-up">
                <div className="p-4 bg-black flex justify-between items-center">
                  <div className="flex items-center gap-2">
                    <Sparkles className="text-white" size={16} />
                    <h3 className="font-bold text-white text-sm tracking-widest uppercase">Terminal</h3>
                  </div>
                  <button onClick={() => setIsOpen(false)} className="text-white/80 hover:text-white"><X size={18} /></button>
                </div>
                <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-white/95">
                  {messages.map((msg) => (
                    <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>
                      <div className={`max-w-[85%] p-3 rounded-lg text-sm font-mono ${
                        msg.sender === 'user' ? 'bg-black text-white' : 'bg-gray-100 text-black border border-gray-200'
                      }`}>
                        {msg.text}
                      </div>
                    </div>
                  ))}
                  {isTyping && (
                    <div className="flex justify-start">
                      <div className="bg-gray-50 p-3 rounded-lg flex items-center gap-2">
                        <Loader2 className="animate-spin text-black" size={14} />
                      </div>
                    </div>
                  )}
                  <div ref={messagesEndRef} />
                </div>
                <div className="p-3 border-t border-gray-200 bg-white">
                  <div className="flex gap-2">
                    <input 
                      type="text" 
                      value={input} 
                      onChange={(e) => setInput(e.target.value)}
                      onKeyDown={(e) => e.key === 'Enter' && handleSend()}
                      placeholder="Query..."
                      className="flex-1 bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-black font-mono"
                    />
                    <button onClick={handleSend} className="p-2 bg-black text-white rounded-md hover:bg-gray-800">
                      <Send size={16} />
                    </button>
                  </div>
                </div>
              </div>
            )}
            <button onClick={() => setIsOpen(!isOpen)} className="bg-black hover:bg-gray-800 text-white p-4 rounded-full shadow-lg transition-transform duration-300 hover:scale-105">
              {isOpen ? <X size={24} /> : <MessageSquare size={24} />}
            </button>
          </div>
        );
      };

      // --- App Component ---
      const App = () => {
        return (
          <div className="min-h-screen relative selection:bg-black selection:text-white">
            {/* Background Video */}
            <div className="fixed inset-0 -z-20 overflow-hidden">
              <video autoPlay loop muted playsInline className="absolute min-w-full min-h-full object-cover w-full h-full opacity-60 grayscale contrast-125">
                <source src="https://videos.pexels.com/video-files/857251/857251-hd_1920_1080_25fps.mp4" type="video/mp4" />
              </video>
            </div>
            
            {/* Overlay */}
            <div className="fixed inset-0 -z-10 bg-white/90 backdrop-blur-[2px]"></div>

            <Header />
            <main className="max-w-5xl mx-auto min-h-screen">
              <Hero />
              <About />
            </main>
            <Footer />
            <AIChatWidget />
          </div>
        );
      };

      // --- Render ---
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
